package fr.swynn;import fr.swynn.api.DefaultRewardService;import fr.swynn.repository.DefaultRewardRepository;import fr.swynn.repository.DefaultUserRepository;import fr.swynn.repository.RewardRepository;import fr.swynn.repository.UserRepository;import fr.swynn.api.RewardService;import org.bukkit.ChatColor;import org.bukkit.command.Command;import org.bukkit.command.CommandExecutor;import org.bukkit.command.CommandSender;import org.bukkit.entity.Player;import org.bukkit.plugin.java.JavaPlugin;import java.util.logging.Logger;public class DailyReward extends JavaPlugin implements CommandExecutor {    private final Logger logger = getLogger();    private UserRepository userRepository;    private RewardRepository rewardRepository;    private RewardService rewardService;    @Override    public void onEnable() {        logger.info("DailyReward is now enabled!");        rewardRepository = new DefaultRewardRepository();        userRepository = new DefaultUserRepository();        rewardService = new DefaultRewardService(userRepository, rewardRepository);        this.getCommand("daily").setExecutor(this);    }    @Override    public void onDisable() {        logger.info("DailyReward is now disabled!");        rewardRepository.saveRewards();        userRepository.saveUsers();    }    @Override    public boolean onCommand(final CommandSender sender, final Command command, final String label, final String[] args) {        var commandName = command.getName();        if (!(sender instanceof Player player)) {            return false;        }        if (!(commandName.equalsIgnoreCase("daily"))) {            return false;        }        var playerUUID = player.getUniqueId();        var dailyReward = rewardService.getDailyRewardForPlayer(playerUUID);        if (dailyReward.isEmpty()) {            player.sendMessage(ChatColor.AQUA + "You have already claimed your daily reward!");            return true;        }        var itemStack = dailyReward.get().toItemStack();        player.getInventory().addItem(itemStack);        player.sendMessage(ChatColor.RED + "You have received your daily reward!");        return true;    }}